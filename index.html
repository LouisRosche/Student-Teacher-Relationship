<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Strong Teacher Relationships</title>
    <!-- Add jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            line-height: 1.6;
            color: #2d3748;
            min-height: 100vh;
        }
        
        .page-wrapper {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: white;
            box-shadow: 4px 0 20px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar-header {
            padding: 25px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .sidebar-header h2 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 0.85em;
            opacity: 0.9;
        }
        
        .nav-section {
            padding: 12px 20px;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .nav-section:hover:not(.locked) {
            background: #f7fafc;
        }
        
        .nav-section.active {
            background: #eef2ff;
            border-left: 4px solid #667eea;
        }
        
        .nav-section.completed {
            background: #d1fae5;
        }
        
        .nav-section.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .nav-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
            flex-shrink: 0;
        }
        
        .nav-section .nav-icon {
            background: #e2e8f0;
            color: #718096;
        }
        
        .nav-section.active .nav-icon {
            background: #667eea;
            color: white;
        }
        
        .nav-section.completed .nav-icon {
            background: #10b981;
            color: white;
        }
        
        .nav-section.locked .nav-icon::after {
            content: 'ðŸ”’';
            font-size: 14px;
        }
        
        .nav-text {
            flex: 1;
        }
        
        .nav-title {
            font-weight: 600;
            font-size: 0.95em;
        }
        
        .nav-subtitle {
            font-size: 0.8em;
            color: #718096;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            padding: 15px;
            max-width: none;
            margin-left: 280px;
        }
        
        .content-section {
            background: white;
            padding: 40px 60px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            margin-bottom: 20px;
            display: none;
            max-width: 100%;
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-header {
            margin-bottom: 25px;
        }
        
        .section-header h1 {
            font-size: 2em;
            margin-bottom: 10px;
            color: #2d3748;
        }
        
        .section-header .subtitle {
            color: #667eea;
            font-size: 1.1em;
            font-weight: 600;
        }
        
        .callout {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        
        .callout h3 {
            margin-bottom: 12px;
            font-size: 1.3em;
        }
        
        .callout p {
            line-height: 1.7;
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .stat-box {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-width: 140px;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 0.85em;
        }
        
        .behavior-grid {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .behavior-card {
            background: #f7fafc;
            padding: 18px;
            border-radius: 8px;
            border-left: 4px solid #10b981;
        }
        
        .behavior-card.dont {
            border-left-color: #ef4444;
        }
        
        .behavior-title {
            font-weight: 700;
            font-size: 1.05em;
            margin-bottom: 8px;
            color: #2d3748;
        }
        
        .behavior-description {
            color: #4a5568;
            font-size: 0.95em;
            margin-bottom: 10px;
        }
        
        .behavior-example {
            background: white;
            padding: 12px;
            border-radius: 6px;
            font-style: italic;
            color: #718096;
            border-left: 3px solid #cbd5e0;
            font-size: 0.9em;
        }
        
        .example-label {
            font-weight: 600;
            color: #4a5568;
            font-style: normal;
        }
        
        /* Reflection Inputs */
        .reflection-box {
            background: #fef3c7;
            border: 3px solid #f59e0b;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .reflection-prompt {
            font-weight: 700;
            color: #92400e;
            margin-bottom: 8px;
            font-size: 1.05em;
        }
        
        .reflection-hint {
            font-size: 0.9em;
            color: #78350f;
            margin-bottom: 12px;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95em;
            background: white;
            margin-bottom: 12px;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #f59e0b;
        }
        
        textarea {
            width: 100%;
            min-height: 70px;
            padding: 12px;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.95em;
            resize: vertical;
            background: white;
        }
        
        textarea:focus {
            outline: none;
            border-color: #f59e0b;
        }
        
        /* Scenario Practice */
        .scenario-card {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .scenario-text {
            margin-bottom: 15px;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .scenario-options {
            display: grid;
            gap: 10px;
        }
        
        .scenario-option {
            display: flex;
            align-items: start;
            gap: 12px;
            padding: 14px;
            background: #f7fafc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .scenario-option:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }
        
        .scenario-option input[type="radio"],
        .scenario-option input[type="checkbox"] {
            margin-top: 3px;
            cursor: pointer;
            width: 18px;
            height: 18px;
        }
        
        .scenario-option.correct {
            background: #d1fae5;
            border-color: #10b981;
        }
        
        .scenario-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }
        
        .scenario-feedback {
            margin-top: 12px;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            display: none;
        }
        
        .scenario-feedback.show {
            display: block;
        }
        
        .scenario-feedback.correct {
            background: #d1fae5;
            color: #065f46;
        }
        
        .scenario-feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
        }
        
        /* Buttons */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1em;
            display: inline-block;
            text-decoration: none;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.4);
        }
        
        .btn-secondary {
            background: #718096;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #4a5568;
        }
        
        .btn-block {
            width: 100%;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        /* Alert Boxes */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.95em;
        }
        
        .alert-info {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            color: #1e40af;
        }
        
        .alert-warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            color: #92400e;
        }
        
        .alert-success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            color: #065f46;
        }
        
        /* Mobile Responsive */
        @media (max-width: 1200px) {
            .sidebar {
                width: 220px;
            }
            
            .main-content {
                margin-left: 220px;
                padding: 20px 15px;
            }
            
            .content-section {
                padding: 30px 40px;
            }
        }
        
        @media (max-width: 968px) {
            .page-wrapper {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px 15px;
            }
            
            .content-section {
                padding: 25px 20px;
            }
        }
        
        body, .page-wrapper {
            overflow-x: hidden;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Your Progress</h2>
                <p>Complete each section to unlock the next</p>
            </div>
            
            <div class="nav-section active" data-section="intro" onclick="navigateTo('intro')">
                <div class="nav-icon">1</div>
                <div class="nav-text">
                    <div class="nav-title">Start Here</div>
                    <div class="nav-subtitle">Why this matters</div>
                </div>
            </div>
            
            <div class="nav-section locked" data-section="guide" onclick="navigateTo('guide')">
                <div class="nav-icon">2</div>
                <div class="nav-text">
                    <div class="nav-title">The Guide</div>
                    <div class="nav-subtitle">DO and DON'T behaviors</div>
                </div>
            </div>
            
            <div class="nav-section locked" data-section="reflect" onclick="navigateTo('reflect')">
                <div class="nav-icon">3</div>
                <div class="nav-text">
                    <div class="nav-title">Your Plan</div>
                    <div class="nav-subtitle">Quick self-check</div>
                </div>
            </div>
            
            <div class="nav-section locked" data-section="practice" onclick="navigateTo('practice')">
                <div class="nav-icon">4</div>
                <div class="nav-text">
                    <div class="nav-title">Practice</div>
                    <div class="nav-subtitle">Try some scenarios</div>
                </div>
            </div>
            
            <div class="nav-section locked" data-section="quiz" onclick="navigateTo('quiz')">
                <div class="nav-icon">âœ“</div>
                <div class="nav-text">
                    <div class="nav-title">Knowledge Check</div>
                    <div class="nav-subtitle">Show what you learned</div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Section 1: Intro -->
            <div class="content-section active" id="intro">
                <div class="section-header">
                    <h1>Building Strong Teacher Relationships</h1>
                    <div class="subtitle">Real Actions That Lead to Your Success</div>
                </div>
                
                <div class="callout">
                    <h3>Why This Actually Matters to YOU</h3>
                    <p>Look, I know you've heard "be respectful" a million times. This is different.</p>
                    <p>Researchers tracked over <strong>2.6 million students</strong> across <strong>70+ years</strong> and found something clear: students who build positive relationships with their teachers don't just feel better in classâ€”they actually learn more and get better grades.</p>
                    <p>The effect is so strong they measured it at <strong>0.72</strong>, which in research terms means <strong>this is real and it matters</strong>.</p>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="stat-number">2.6M+</div>
                            <div class="stat-label">Students Studied</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number">0.72</div>
                            <div class="stat-label">Effect Size</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number">70+</div>
                            <div class="stat-label">Years of Research</div>
                        </div>
                    </div>
                    
                    <p><strong>Translation:</strong> How you interact with your teachers directly impacts YOUR learning and YOUR grades.</p>
                </div>
                
                <div class="alert alert-info">
                    <strong>What you'll do:</strong> Read specific behaviors â†’ Think about your own habits â†’ Practice with scenarios â†’ Take the knowledge check. Takes about 25 minutes total.
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary btn-block" onclick="completeSection('intro', 'guide')">Let's Go â†’</button>
                </div>
            </div>
            
            <!-- Section 2: The Guide -->
            <div class="content-section" id="guide">
                <div class="section-header">
                    <h1>The Behaviors: DO and DON'T</h1>
                    <div class="subtitle">These are specific, observable actions you can control</div>
                </div>
                
                <div class="alert alert-warning">
                    <strong>Read through all the DO and DON'T behaviors below.</strong> Pay attention to the examplesâ€”they show you exactly what each behavior looks like in real situations.
                </div>
                
                <h2 style="color: #10b981; margin-top: 30px; margin-bottom: 15px;">âœ“ DO: Actions That Build Relationships</h2>
                
                <div class="behavior-grid">
                    <div class="behavior-card">
                        <div class="behavior-title">Greet Your Teacher</div>
                        <div class="behavior-description">Make eye contact and say "hi" or "good morning" when you enter.</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> Walking in, making eye contact, saying "Good morning, Ms. Chen" or just "Hey" with a nod.
                        </div>
                    </div>
                    
                    <div class="behavior-card">
                        <div class="behavior-title">Ask Questions Early</div>
                        <div class="behavior-description">Raise your hand when you don't understandâ€”within 5 minutes of instruction, not after class.</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> Teacher explains a math problem, you're confused on step 2, you raise your hand right then and say "Can you explain step 2 again?"
                        </div>
                    </div>
                    
                    <div class="behavior-card">
                        <div class="behavior-title">Answer When Called On</div>
                        <div class="behavior-description">Even if you're not sure, respond with "I'm not sure, but I think..." or "Can you rephrase?"</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> "I'm not totally sure, but I think it has to do with the main character's motivation?" instead of silence.
                        </div>
                    </div>
                    
                    <div class="behavior-card">
                        <div class="behavior-title">Be Specific About Struggles</div>
                        <div class="behavior-description">Say "I'm struggling with X" specifically rather than "I don't get it."</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> "I understand how to set up the equation, but I'm stuck on solving for x when there are variables on both sides."
                        </div>
                    </div>
                    
                    <div class="behavior-card">
                        <div class="behavior-title">Communicate About Deadlines Early</div>
                        <div class="behavior-description">If you won't finish homework, tell your teacher BEFORE it's due.</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> Tuesday you realize you can't finish the essay due Friday. You tell your teacher Wednesday: "I have 3 tests this week. Can I turn it in Monday?"
                        </div>
                    </div>
                    
                    <div class="behavior-card">
                        <div class="behavior-title">Say Thank You</div>
                        <div class="behavior-description">Thank your teacher when they help you individually.</div>
                        <div class="behavior-example">
                            <span class="example-label">Looks like:</span> Teacher explains something at your desk, you say "Thanks, that helps."
                        </div>
                    </div>
                </div>
                
                <h2 style="color: #ef4444; margin-top: 40px; margin-bottom: 15px;">âœ— DON'T: Actions That Damage Relationships</h2>
                
                <div class="behavior-grid">
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Block Communication</div>
                        <div class="behavior-description">Don't wear headphones/earbuds during instruction unless teacher says it's okay.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> When teacher is talking to the class, earbuds are out. Music during independent work only if teacher permits it.
                        </div>
                    </div>
                    
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Turn Away</div>
                        <div class="behavior-description">Don't turn your back, put your head down, or avoid eye contact when teacher addresses you.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> If teacher walks over to help you, face them, look up, make eye contact. Don't put your hood up or turn away.
                        </div>
                    </div>
                    
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Hide Struggles Then Blame</div>
                        <div class="behavior-description">Don't say "I'm fine" when struggling, then blame the teacher later for not helping.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> If teacher asks "Do you understand?" and you say "Yeah I'm good" when you're confused, you can't later say "You never helped me."
                        </div>
                    </div>
                    
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Start with Complaints</div>
                        <div class="behavior-description">Don't enter class and immediately complain about assignments before greeting the teacher.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> Walking in and saying "This homework was so stupid" sets a negative tone. Greet first, discuss concerns later.
                        </div>
                    </div>
                    
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Show Visible Frustration</div>
                        <div class="behavior-description">Don't sigh loudly, slam your pencil, or mutter when teacher corrects your work.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> If you're frustrated, talk to teacher privately after class instead of making disruptive noises.
                        </div>
                    </div>
                    
                    <div class="behavior-card dont">
                        <div class="behavior-title">Don't Mock Quietly</div>
                        <div class="behavior-description">Don't mock the teacher's suggestions to classmates after they walk away.</div>
                        <div class="behavior-example">
                            <span class="example-label">What this means:</span> Teacher gives feedback and walks away. Don't whisper "That's so dumb" to your friend. Teacher usually notices.
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons" style="margin-top: 40px;">
                    <button class="btn btn-primary btn-block" onclick="completeSection('guide', 'reflect')">I've Read the Behaviors â†’</button>
                </div>
            </div>
            
            <!-- Section 3: Reflection -->
            <div class="content-section" id="reflect">
                <div class="section-header">
                    <h1>Your Plan: Quick Self-Check</h1>
                    <div class="subtitle">Before the quiz, think about YOUR actual behavior</div>
                </div>
                
                <div class="alert alert-warning">
                    <strong>This generates a PDF you'll submit.</strong> Type your honest responses. Your teacher will use this to support your growth.
                </div>
                
                <div class="reflection-box">
                    <div class="reflection-prompt">Your Name:</div>
                    <input type="text" id="studentName" placeholder="First and Last Name" oninput="checkReflections()">
                </div>
                
                <div class="reflection-box">
                    <div class="reflection-prompt">1. Pick ONE DO behavior you'll try tomorrow. Which one and when?</div>
                    <div class="reflection-hint">Be specific about the class. Example: "Tomorrow in 1st period, I'll greet Mr. Davis when I walk in"</div>
                    <textarea id="reflect1" placeholder="Type your answer here..." oninput="checkReflections()"></textarea>
                </div>
                
                <div class="reflection-box">
                    <div class="reflection-prompt">2. What's ONE DON'T behavior you've done this week?</div>
                    <div class="reflection-hint">Be honest. Example: "I had my earbuds in during instructions in math on Tuesday"</div>
                    <textarea id="reflect2" placeholder="Type your answer here..." oninput="checkReflections()"></textarea>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-success" id="generatePDFBtn" disabled onclick="generatePDF()">Generate My Plan (PDF)</button>
                    <button class="btn btn-primary" id="reflectBtn" disabled onclick="completeSection('reflect', 'practice')">Continue to Practice â†’</button>
                </div>
                
                <div class="alert alert-info" style="margin-top: 20px;">
                    <strong>Instructions:</strong> Fill in all three boxes above. Click "Generate My Plan" to create your PDF, then download and submit it through Canvas. After submitting, click "Continue to Practice" to move forward.
                </div>
            </div>
            
            <!-- Section 4: Practice -->
            <div class="content-section" id="practice">
                <div class="section-header">
                    <h1>Practice: Try Some Scenarios</h1>
                    <div class="subtitle">The quiz will have questions like these</div>
                </div>
                
                <div class="alert alert-info">
                    <strong>Read each scenario and pick the best answer.</strong> You'll see 3 random scenarios from a bank of 10. After answering, check your work. You can reset and try different scenarios.
                </div>
                
                <div id="scenarioContainer"></div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="checkScenarios()">Check My Answers</button>
                    <button class="btn btn-secondary" onclick="resetScenarios()">Try Different Scenarios</button>
                    <button class="btn btn-success" id="practiceCompleteBtn" disabled onclick="completeSection('practice', 'quiz')">Continue to Quiz â†’</button>
                </div>
            </div>
            
            <!-- Section 5: Quiz -->
            <div class="content-section" id="quiz">
                <div class="section-header">
                    <h1>Knowledge Check</h1>
                    <div class="subtitle">Time to show what you learned</div>
                </div>
                
                <div class="callout">
                    <h3>You're Ready</h3>
                    <p>You've read the behaviors, created your action plan, and practiced with scenarios.</p>
                    <p>The quiz has questions about the research, questions where you identify behaviors, and scenarios where you apply what you learned.</p>
                    <p><strong>You can reference the guide if needed, but try from memory first.</strong></p>
                </div>
                
                <div class="alert alert-success">
                    <strong>After you finish:</strong> Actually try that ONE behavior you committed to. See what happens.
                </div>
                
                <div class="action-buttons">
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdsVfBaB70R1Juc-OKasHLxooBLrPRp9LNFGUAQixtCXEhFqw/viewform?usp=header" target="_blank" class="btn btn-success btn-block">Take the Knowledge Check</a>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Track completed sections
        const completed = new Set(['intro']);
        
        // Scenario bank - 10 scenarios
        const scenarioBank = [
            {
                text: "It's Tuesday. You have 3 tests Friday and won't finish the history essay that's also due Friday. What should you do?",
                options: [
                    { text: "Just don't do it and explain after it's due", correct: false, feedback: "Waiting until after creates conflict. Teachers appreciate proactive communication. This damages trust because it looks like you didn't care enough to ask ahead." },
                    { text: "Stay up all night to finish everything", correct: false, feedback: "Burning out helps no one. You'll be exhausted for your tests and the essay will suffer. Teachers would rather you communicate and get an extension than submit poor work." },
                    { text: "Tell your teacher Tuesday or Wednesday and ask if you can turn it in Monday instead", correct: true, feedback: "Perfect. You're communicating early (not the night before), being specific about the conflict, and proposing a solution. This shows responsibility and respect for deadlines." },
                    { text: "Copy someone else's essay", correct: false, feedback: "This is academic dishonesty. You'll face serious consequences if caught, and it destroys any trust with your teacher. It also means you learn nothing." }
                ]
            },
            {
                text: "The teacher is explaining a math problem. You're confused at step 2. What's the BEST thing to do?",
                options: [
                    { text: "Wait until after class to ask", correct: false, feedback: "By waiting, you miss the next 30 minutes of instruction built on step 2. You fall further behind. Teachers want you to ask in the moment so you stay on track." },
                    { text: "Just copy what's on the board and figure it out later", correct: false, feedback: "You're creating more work for yourself and probably won't figure it out alone. Plus, you've signaled to the teacher that you understand when you don't." },
                    { text: "Raise your hand right then and say 'Can you explain step 2 again?'", correct: true, feedback: "Exactly right. You're asking early, being specific about what you don't understand, and giving the teacher a chance to help you stay on track. Other students are probably confused too." },
                    { text: "Ask your friend to explain it", correct: false, feedback: "Your friend might not understand it either, or might explain it wrong. The teacher is the expert. This also means the teacher doesn't know you're confused." }
                ]
            },
            {
                text: "Your teacher just marked something wrong on your paper. You're frustrated. What should you NOT do?",
                options: [
                    { text: "Take a breath and ask the teacher to explain after class", correct: false, feedback: "This is actually a good response, not what you should avoid. Taking time to calm down and then seeking clarification shows maturity." },
                    { text: "Sigh loudly, slam your pencil down, and mutter to your neighbor", correct: true, feedback: "Correctâ€”this is what NOT to do. Visible frustration disrupts class, disrespects the teacher, and makes them less likely to want to help you. It damages the relationship immediately." },
                    { text: "Look at what you got wrong and try to understand the mistake", correct: false, feedback: "This is a productive response, not something to avoid. Reviewing your errors is how you learn." },
                    { text: "Make a note to ask about it during help time", correct: false, feedback: "This is another good response. You're being proactive about getting help without disrupting class." }
                ]
            },
            {
                text: "You walk into class and see a new seating chart. Your teacher asks you to sit in a different seat than where you were heading. What should you do?",
                options: [
                    { text: "Refuse and say 'I'm not sitting there'", correct: false, feedback: "Refusing a reasonable request creates immediate conflict and makes you look immature. Teachers will be less flexible with you in the future if you can't handle simple changes." },
                    { text: "Sit in the assigned seat, then talk to the teacher privately after class if you have concerns", correct: true, feedback: "Right approach. Comply with the reasonable request in the moment, maintaining respect. If there's a real issue with the seat, discuss it privately and calmly later." },
                    { text: "Roll your eyes but sit down", correct: false, feedback: "The eye roll damages the relationship even if you comply. It signals disrespect and makes future interactions more tense. Just sit down without the attitude." },
                    { text: "Argue about it in front of the whole class", correct: false, feedback: "Public arguments put the teacher in a position where they can't back down without losing authority. This escalates unnecessarily. Always handle concerns privately." }
                ]
            },
            {
                text: "The teacher asks 'How are you?' as you walk in. You're actually stressed about a game tonight. What should you say?",
                options: [
                    { text: "Just say 'fine' like always", correct: false, feedback: "While not wrong, this is a missed opportunity. Occasionally giving real answers helps build connection. You don't have to share everything, but 'fine' every single time keeps the relationship surface-level." },
                    { text: "'Actually kind of stressed about the game tonight'", correct: true, feedback: "Good choice. It's brief, honest, and gives the teacher a glimpse into your life. This helps them see you as a person, not just a student, which strengthens the relationship." },
                    { text: "Ignore the question and walk past", correct: false, feedback: "Ignoring the teacher's greeting signals disrespect or disengagement. Even a quick 'good' while making eye contact is better than nothing." },
                    { text: "Launch into a 5-minute explanation of everything going on", correct: false, feedback: "Too much. The teacher is greeting you, not asking for a full therapy session. Keep it briefâ€”1 sentence max. Save long conversations for appropriate times." }
                ]
            },
            {
                text: "You've been confused about the unit for 3 weeks but kept saying you understood. Now you're failing. What should you do?",
                options: [
                    { text: "Keep pretending and hope you can catch up on your own", correct: false, feedback: "You're 3 weeks behind. Hoping won't help. The hole is too deep to climb out alone, and you're wasting time you could spend actually learning." },
                    { text: "Tell the teacher 'I've been confused since Week 1. Can we make a plan to catch me up?'", correct: true, feedback: "Best option. You're being honest (even though it's hard), taking responsibility, and asking for help. Teachers respect this and will work with you to create a catch-up plan." },
                    { text: "Blame the teacher for not noticing you were struggling", correct: false, feedback: "You said you understood when asked. The teacher can't read minds. Blaming damages the relationship and prevents you from getting help. Own your part." },
                    { text: "Just accept the failing grade and move on", correct: false, feedback: "Giving up helps no one. Many teachers will help you recover if you show effort and honesty. At minimum, you need to understand this material for future classes." }
                ]
            },
            {
                text: "Bell rings. You're packing up to leave. The teacher is standing at the door. What should you do?",
                options: [
                    { text: "Make brief eye contact, nod, or say 'bye' as you leave", correct: true, feedback: "Perfect. This small acknowledgment maintains the relationship. It takes 1 second and signals respect. It's the difference between treating the teacher like furniture vs. like a person." },
                    { text: "Run out without looking at the teacher", correct: false, feedback: "It's rude and signals that you see the teacher as irrelevant. Even when you're in a hurry, a quick nod or 'bye' maintains basic respect." },
                    { text: "Stop and have a long conversation even though you'll be late to your next class", correct: false, feedback: "No need to go overboard. A brief acknowledgment is enough. Save longer conversations for appropriate times when neither of you is rushed." },
                    { text: "Wait for the teacher to acknowledge you first", correct: false, feedback: "Don't wait for them to greet youâ€”take the initiative. Greeting shows respect and effort. Waiting puts all the relationship work on the teacher." }
                ]
            },
            {
                text: "Your teacher offers help time after school on Tuesdays and Thursdays. You're struggling in the class. What should you do?",
                options: [
                    { text: "Never go because it's awkward", correct: false, feedback: "The awkwardness lasts 30 seconds. Struggling in the class lasts all semester. Teachers offer help time because they want to helpâ€”use it. Going once shows you care." },
                    { text: "Show up at least once, even if just for 10 minutes to ask one question", correct: true, feedback: "Right move. You don't have to go every week, but showing up once demonstrates effort and willingness to get help. It builds the relationship and shows you take the class seriously." },
                    { text: "Tell everyone the teacher's help time is useless even though you've never gone", correct: false, feedback: "Talking negatively about something you haven't even tried makes you look lazy and disrespectful. If you go and it genuinely doesn't help, then you can have an opinion." },
                    { text: "Only go if the teacher personally invites you", correct: false, feedback: "The offer itself IS the invitation. Teachers can't personally invite every struggling studentâ€”they'd spend all day doing nothing else. The open offer means you're welcome." }
                ]
            },
            {
                text: "You get your graded essay back with comments in the margins. What should you do?",
                options: [
                    { text: "Look at the grade, then throw it away without reading the comments", correct: false, feedback: "You're wasting the teacher's time and your own learning opportunity. The comments show you specifically how to improve. Ignoring them means you'll make the same mistakes next time." },
                    { text: "Read the comments to understand what to improve next time", correct: true, feedback: "Exactly. The grade is just a number. The comments are the actual learning tool. Reading them shows you respect the teacher's effort and want to improve." },
                    { text: "Only read the comments if you got a bad grade", correct: false, feedback: "Even if you got an A, the comments show you how to get better. Teachers spend time on feedback for everyoneâ€”reading it regardless of grade shows respect for that effort." },
                    { text: "Argue about every comment the teacher made", correct: false, feedback: "If you have a genuine question about one specific comment, that's fine. But arguing about everything makes you look defensive and unwilling to learn. Pick your battles." }
                ]
            },
            {
                text: "You're working on classwork. You tried for 1 minute and you're stuck. What should you do?",
                options: [
                    { text: "Immediately raise your hand and ask for help", correct: false, feedback: "You haven't tried long enough. Teachers want to see some effort firstâ€”at least 2-3 minutes of genuine thinking. Show your work and where you got stuck." },
                    { text: "Give up and put your head down", correct: false, feedback: "This signals you don't care and makes teachers less likely to help you. Struggle is part of learningâ€”push through a bit before asking." },
                    { text: "Try for 2-3 minutes, show your thinking, then raise your hand and point to where you got stuck", correct: true, feedback: "Perfect. You've made a genuine effort, you can show your thinking process, and you're being specific about where you need help. Teachers appreciate this approach." },
                    { text: "Keep struggling silently for 30 minutes", correct: false, feedback: "At some point, you need to ask. If you're stuck for more than 5 minutes despite real effort, raise your hand. Teachers can't help if they don't know you're stuck." }
                ]
            }
        ];
        
        let currentScenarios = [];
        let scenariosChecked = false;
        
        function navigateTo(section) {
            const navItem = document.querySelector(`[data-section="${section}"]`);
            
            if (navItem.classList.contains('locked')) {
                return;
            }
            
            document.querySelectorAll('.content-section').forEach(s => {
                s.classList.remove('active');
            });
            
            document.getElementById(section).classList.add('active');
            
            document.querySelectorAll('.nav-section').forEach(n => {
                n.classList.remove('active');
            });
            navItem.classList.add('active');
            
            window.scrollTo(0, 0);
        }
        
        function completeSection(current, next) {
            completed.add(current);
            const currentNav = document.querySelector(`[data-section="${current}"]`);
            currentNav.classList.add('completed');
            currentNav.classList.remove('active');
            
            const nextNav = document.querySelector(`[data-section="${next}"]`);
            nextNav.classList.remove('locked');
            nextNav.classList.add('active');
            
            navigateTo(next);
        }
        
        // Reflection validation
        function checkReflections() {
            const name = document.getElementById('studentName').value.trim();
            const text1 = document.getElementById('reflect1').value.trim();
            const text2 = document.getElementById('reflect2').value.trim();
            const pdfBtn = document.getElementById('generatePDFBtn');
            const continueBtn = document.getElementById('reflectBtn');
            
            if (name.length >= 3 && text1.length >= 10 && text2.length >= 10) {
                pdfBtn.disabled = false;
                continueBtn.disabled = false;
            } else {
                pdfBtn.disabled = true;
                continueBtn.disabled = true;
            }
        }
        
        // PDF Generation
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const name = document.getElementById('studentName').value.trim();
            const behavior = document.getElementById('reflect1').value.trim();
            const dont = document.getElementById('reflect2').value.trim();
            const date = new Date().toLocaleDateString();
            
            // Title
            doc.setFontSize(18);
            doc.setFont(undefined, 'bold');
            doc.text('My Teacher Relationship Action Plan', 105, 20, { align: 'center' });
            
            // Student info
            doc.setFontSize(12);
            doc.setFont(undefined, 'normal');
            doc.text(`Name: ${name}`, 20, 35);
            doc.text(`Date: ${date}`, 20, 42);
            
            // Question 1
            doc.setFont(undefined, 'bold');
            doc.text('1. One DO behavior I will try tomorrow:', 20, 55);
            doc.setFont(undefined, 'normal');
            const behavior1Lines = doc.splitTextToSize(behavior, 170);
            doc.text(behavior1Lines, 20, 63);
            
            // Question 2
            const q2Y = 63 + (behavior1Lines.length * 7) + 10;
            doc.setFont(undefined, 'bold');
            doc.text('2. One DON\'T behavior I did this week:', 20, q2Y);
            doc.setFont(undefined, 'normal');
            const behavior2Lines = doc.splitTextToSize(dont, 170);
            doc.text(behavior2Lines, 20, q2Y + 8);
            
            // Footer
            const footerY = q2Y + (behavior2Lines.length * 7) + 20;
            doc.setFontSize(10);
            doc.setFont(undefined, 'italic');
            doc.text('Submit this plan to your teacher through Canvas.', 105, footerY, { align: 'center' });
            
            // Save
            doc.save(`${name.replace(/\s+/g, '_')}_Teacher_Relationship_Plan.pdf`);
            
            alert('PDF generated! Download it and submit through Canvas, then click "Continue to Practice."');
        }
        
        // Initialize scenarios
        function initScenarios() {
            // Randomly select 3 scenarios
            const shuffled = [...scenarioBank].sort(() => Math.random() - 0.5);
            currentScenarios = shuffled.slice(0, 3);
            renderScenarios();
        }
        
        function renderScenarios() {
            const container = document.getElementById('scenarioContainer');
            container.innerHTML = '';
            
            currentScenarios.forEach((scenario, index) => {
                const card = document.createElement('div');
                card.className = 'scenario-card';
                card.innerHTML = `
                    <div class="scenario-text">
                        <strong>Scenario ${index + 1}:</strong> ${scenario.text}
                    </div>
                    <div class="scenario-options" id="options${index}">
                        ${scenario.options.map((opt, optIndex) => `
                            <label class="scenario-option">
                                <input type="radio" name="scenario${index}" value="${optIndex}" ${opt.correct ? 'data-correct="true"' : ''}>
                                <span>${opt.text}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div class="scenario-feedback" id="feedback${index}"></div>
                `;
                container.appendChild(card);
            });
            
            scenariosChecked = false;
            document.getElementById('practiceCompleteBtn').disabled = true;
        }
        
        function checkScenarios() {
            scenariosChecked = true;
            
            currentScenarios.forEach((scenario, index) => {
                const selected = document.querySelector(`input[name="scenario${index}"]:checked`);
                const feedback = document.getElementById(`feedback${index}`);
                const options = document.querySelectorAll(`input[name="scenario${index}"]`);
                
                if (!selected) {
                    feedback.className = 'scenario-feedback show incorrect';
                    feedback.textContent = 'âš ï¸ Please select an answer.';
                    return;
                }
                
                const selectedIndex = parseInt(selected.value);
                const selectedOption = scenario.options[selectedIndex];
                const isCorrect = selectedOption.correct;
                const selectedLabel = selected.closest('.scenario-option');
                
                // Remove previous styling
                options.forEach(opt => {
                    opt.closest('.scenario-option').classList.remove('correct', 'incorrect');
                });
                
                if (isCorrect) {
                    selectedLabel.classList.add('correct');
                    feedback.className = 'scenario-feedback show correct';
                    feedback.textContent = `âœ“ ${selectedOption.feedback}`;
                } else {
                    selectedLabel.classList.add('incorrect');
                    // Highlight correct answer
                    scenario.options.forEach((opt, optIndex) => {
                        if (opt.correct) {
                            const correctInput = document.querySelector(`input[name="scenario${index}"][value="${optIndex}"]`);
                            correctInput.closest('.scenario-option').classList.add('correct');
                        }
                    });
                    feedback.className = 'scenario-feedback show incorrect';
                    feedback.textContent = `âœ— ${selectedOption.feedback}`;
                }
            });
            
            document.getElementById('practiceCompleteBtn').disabled = false;
        }
        
        function resetScenarios() {
            initScenarios();
            window.scrollTo({ top: document.getElementById('practice').offsetTop - 100, behavior: 'smooth' });
        }
        
        // Initialize scenarios when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initScenarios();
        });
    </script>
</body>
</html>
